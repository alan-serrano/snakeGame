(this.webpackJsonpsnake_game=this.webpackJsonpsnake_game||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(13)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(5),c=n.n(i),u=(n(11),n(1)),s=(n(12),n(2)),o=n(3),l=function(){function e(t){Object(s.a)(this,e),this.x=0,this.y=0,this.xSpeed=1,this.ySpeed=0,this.tail=[{x:0,y:0}],this.limit=t}return Object(o.a)(e,[{key:"update",value:function(){this.x+=this.xSpeed,this.y+=this.ySpeed;for(var e=0;e<this.tail.length;e++)this.tail[e+1]&&(this.tail[e]=this.tail[e+1]);this.tail[this.tail.length-1]={x:this.x,y:this.y}}},{key:"grow",value:function(){this.tail.push(this.tail[this.tail.length-1])}},{key:"getR1C1",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var a,i=this.tail[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var c=a.value;e["r".concat(c.y,"c").concat(c.x)]=null}}catch(u){n=!0,r=u}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"getHeadR1C1",value:function(){return"r".concat(this.y,"c").concat(this.x)}},{key:"isDeath",get:function(){if(this.x>this.limit||this.x<0)return!0;if(this.y>this.limit||this.y<0)return!0;for(var e=0;e<this.tail.length-1;e++){var t=this.tail[e];if(this.x===t.x&&this.y===t.y)return!0}return!1}}]),e}(),h=function(){function e(t){Object(s.a)(this,e),this.x=this.getRandomNumber(1,t),this.y=this.getRandomNumber(1,t),this.limit=t}return Object(o.a)(e,[{key:"changePosition",value:function(){this.x=this.getRandomNumber(0,this.limit),this.y=this.getRandomNumber(0,this.limit)}},{key:"getRandomNumber",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"getR1C1",value:function(){return"r".concat(this.y,"c").concat(this.x)}}]),e}();function m(e){var t=e.size,n=e.children,r={height:1/t*100+"%"};return a.a.createElement("div",{className:"row",style:r},n)}function f(e){var t=e.size,n=e.coordSnake,r=e.coordFood,i=e.propKey,c={flexBasis:1/t*100+"%"},u="column";return n.hasOwnProperty(i)&&(u+=" snake"),r===i&&(u+=" food"),a.a.createElement("div",{className:u,style:c})}var d=function(e){var t=e.size;t=parseInt(t);var n=Object(r.useState)(!1),i=Object(u.a)(n,2),c=i[0],s=i[1],o=Object(r.useState)(!1),d=Object(u.a)(o,2),y=d[0],p=d[1],v=Object(r.useState)(!1),b=Object(u.a)(v,2),g=b[0],S=b[1],k=Object(r.useRef)(),E=Object(r.useRef)();Object(r.useEffect)((function(){c&&(k.current=new h(t-1),C(k.current.getR1C1()),E.current=new l(t-1))}),[t,c]);var x=Object(r.useState)(""),O=Object(u.a)(x,2),j=O[0],C=O[1],R=Object(r.useState)({r0c0:null}),w=Object(u.a)(R,2),N=w[0],z=w[1],P=Object(r.useState)(0),A=Object(u.a)(P,2),G=A[0],M=A[1];Object(r.useEffect)((function(){if(c&&!g){var e=setTimeout((function(){if(E.current.update(),E.current.isDeath)p(!0),s(!1);else{if(E.current.getHeadR1C1()===k.current.getR1C1()){for(;E.current.getR1C1().hasOwnProperty(k.current.getR1C1());)k.current.changePosition();M((function(e){return e+10})),C(k.current.getR1C1()),E.current.grow()}z(E.current.getR1C1())}}),100);return function(){clearTimeout(e)}}}),[N,c,g]),Object(r.useEffect)((function(){return document.addEventListener("keydown",F),function(){document.removeEventListener("keydown",F)}}));var B=new Array(t).fill(),D=new Array(t).fill();function F(e){38===e.keyCode&&0===E.current.ySpeed&&(E.current.ySpeed=-1,E.current.xSpeed=0),39===e.keyCode&&0===E.current.xSpeed&&(E.current.ySpeed=0,E.current.xSpeed=1),40===e.keyCode&&0===E.current.ySpeed&&(E.current.ySpeed=1,E.current.xSpeed=0),37===e.keyCode&&0===E.current.xSpeed&&(E.current.ySpeed=0,E.current.xSpeed=-1),27===e.keyCode&&c&&S((function(e){return!e}))}return B=B.map((function(e,n){return a.a.createElement(m,{key:n,size:t},D.map((function(e,r){return a.a.createElement(f,{key:r,size:t,propKey:"r".concat(n,"c").concat(r),coordSnake:N,coordFood:j})})))})),a.a.createElement("div",{className:"grid"},B,a.a.createElement("p",{className:"score"},"SCORE: ",G),!c&&a.a.createElement("div",{className:"info"},y&&a.a.createElement("div",{className:"game-over"},a.a.createElement("p",null,"GAME OVER"),a.a.createElement("p",null,"Your score: ",G)),a.a.createElement("button",{className:"btn-start-new-game",onClick:function(){s(!0),p(!1),M(0)}},"Start a new Game")),c&&g&&a.a.createElement("div",{className:"info paused"},a.a.createElement("button",{className:"btn-start-new-game",onClick:function(){S((function(e){return!e}))}},"Continue the game")))};var y=function(){return a.a.createElement("div",{className:"app"},a.a.createElement("h1",null,"Snake Game"),a.a.createElement(d,{size:"24"}))};c.a.render(a.a.createElement(y,null),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.b58f6c63.chunk.js.map